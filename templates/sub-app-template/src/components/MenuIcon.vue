<template>
  <el-icon v-if="!icon" class="menu-icon-wrapper"></el-icon>

  <el-icon v-else-if="isIconfont" class="menu-icon-wrapper">
    <svg aria-hidden="true" class="custom-svg-icon">
      <use :xlink:href="`#${icon}`"></use>
    </svg>
  </el-icon>

  <el-icon v-else class="menu-icon-wrapper">
    <component :is="icon" />
  </el-icon>
</template>

<script setup lang="ts">
  import { computed } from 'vue';

  const props = defineProps({
    icon: {
      type: String,
      default: ''
    }
  });

  // åˆ¤æ–­æ˜¯å¦ä¸º Iconfont çš„ç±»å
  const isIconfont = computed(() => {
    return props.icon && props.icon.startsWith('icon-');
  });
</script>

<style scoped>
  /* ç»Ÿä¸€å¤–éƒ¨åŒ…è£…å™¨çš„å¤§å°å’Œé—´è·ï¼Œå®Œç¾æ¨¡æ‹Ÿ Element å®˜æ–¹èœå•æ ‡å‡† */
  .menu-icon-wrapper {
    width: 24px !important;
    text-align: center !important;
    font-size: 18px !important; /* å›¾æ ‡çš„åŸºå‡†å¤§å° */
    margin-right: 5px !important;
    vertical-align: middle !important;
  }

  /* è®© SVG å˜æˆæµä½“ï¼Œå®Œå…¨æ’‘æ»¡çˆ¶çº§ el-icon çš„ç©ºé—´ */
  /* ä¿®æ”¹è¿™é‡Œï¼šè®© SVG å˜æˆæµä½“ï¼Œå¹¶ç¨å¾®æ”¾å¤§å¡«è¡¥å†…éƒ¨ç•™ç™½ */
  .custom-svg-icon {
    width: 1.15em; /* ğŸ‘ˆ ä» 1em è°ƒå¤§åˆ° 1.15em å·¦å³ */
    height: 1.15em; /* ğŸ‘ˆ ä» 1em è°ƒå¤§åˆ° 1.15em å·¦å³ */
    vertical-align: -0.2em; /* ğŸ‘ˆ ç¨å¾®ä¸‹æ²‰ä¸€ç‚¹ç‚¹ï¼Œä¿æŒè§†è§‰ç»å¯¹å‚ç›´å±…ä¸­ */
    fill: currentColor;
    overflow: hidden;
  }
</style>
